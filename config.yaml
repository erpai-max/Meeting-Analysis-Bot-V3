# ===================================================================
# CONFIGURATION FILE for Meeting Analysis Bot v4.3
# ===================================================================

# -------------------
# Google Drive Folder IDs
# -------------------
google_drive:
  parent_folder_id: "1crSl9J-4upLBwK3ZYXkZ401uWG0XEzSz"
  processed_folder_id: "13D64XwDJm9dig5pFkVXd99IO0XO4WvQy"
  quarantine_folder_id: "1Ubjt5QeUd8zj7cenxne3i5BEMVM076tN"

# -------------------
# Google Sheets Configuration
# -------------------
google_sheets:
  sheet_id: "1VG6U9SvbsCuOSnympp4fL19SZRWZPJsQmAo5fnF2wdI"
  results_tab_name: "Analysis Results"
  ledger_tab_name: "Processed Ledger"

# -------------------
# Google BigQuery Configuration
# -------------------
google_bigquery:
  project_id: "meeting-analysis-bot"
  dataset_id: "meeting_analysis"
  table_id: "analysis_results"

# -------------------
# Team and Manager Mapping
# -------------------
manager_map:
  Sripal: { Manager: "Saleem", Team: "Chennai", Email: "sripal.r@nobroker.in" }
  Sharath: { Manager: "Saleem", Team: "Bangalore", Email: "sharath.k@nobroker.in" }
  Tavish: { Manager: "Saleem", Team: "Bangalore", Email: "tavish.thammaiah@nobroker.in" }
  Aditya: { Manager: "Dipesh", Team: "Pune", Email: "aditya.singh2@nobroker.in" }
  Akshay: { Manager: "Dipesh", Team: "Pune", Email: "akshay.anil@nobroker.in" }
  Rahul: { Manager: "Dipesh", Team: "Pune", Email: "rahul.s@nobroker.in" }
  Hemanth: { Manager: "Saleem", Team: "Hyderabad", Email: "jinukala.hemanth@nobroker.in" }
  "Mohmed luqman": { Manager: "Saleem", Team: "Hyderabad", Email: "mohmed.luqman@nobroker.in" }
  Pramod: { Manager: "Saleem", Team: "Hyderabad", Email: "pramod.ambadas@nobroker.in" }
  Vishal: { Manager: "Dipesh", Team: "Navi Mumbai", Email: "vishal.shinde1@nobroker.in" }
  Darshan: { Manager: "Dipesh", Team: "Greater Mumbai", Email: "darshan.soni@nobroker.in" }
  Musthafa: { Manager: "Dipesh", Team: "Emerging City", Email: "musthafa.hatimbhai@nobroker.in" }
  Yash: { Manager: "Dipesh", Team: "Greater Mumbai", Email: "yash.anand@nobroker.in" }
  Sourav: { Manager: "Dipesh", Team: "Emerging City", Email: "sourav.chhangani@nobroker.in" }
  Saleem: { Manager: "Self", Team: "Management", Email: "saleem.hk@nobroker.in" }
  Dipesh: { Manager: "Self", Team: "Management", Email: "dipesh.karale@nobroker.in" }

manager_emails:
  Saleem: "saleem.hk@nobroker.in"
  Dipesh: "dipesh.karale@nobroker.in"
  Pratik: "pratik.ray@nobroker.in"

# -------------------
# Headers for Sheets & BigQuery
# -------------------
sheets_headers:
  - Date
  - POC Name
  - Society Name
  - Visit Type
  - Meeting Type
  - Amount Value
  - Months
  - Deal Status
  - Vendor Leads
  - Society Leads
  - Opening Pitch Score
  - Product Pitch Score
  - Cross-Sell / Opportunity Handling
  - Closing Effectiveness
  - Negotiation Strength
  - Rebuttal Handling
  - Overall Sentiment
  - Total Score
  - % Score
  - Risks / Unresolved Issues
  - Improvements Needed
  - Owner
  - Email Id
  - Kibana ID
  - Manager
  - Product Pitch
  - Team
  - Media Link
  - Doc Link
  - Suggestions & Missed Topics
  - Pre-meeting brief
  - Meeting duration (min)
  - Rapport Building
  - Improvement Areas
  - Product Knowledge Displayed
  - Call Effectiveness and Control
  - Next Step Clarity and Commitment
  - Missed Opportunities
  - Key Discussion Points
  - Key Questions
  - Competition Discussion
  - Action items
  - Positive Factors
  - Negative Factors
  - Customer Needs
  - Overall Client Sentiment
  - Manager Email
  - Feature Checklist Coverage

# -------------------
# Analysis Settings
# -------------------
analysis:
  redact_pii: true
  enable_diarization: false
  whisper_model: "tiny.en"
  gemini_model: "gemini-1.5-flash"
  openrouter_model_name: "nousresearch/nous-hermes-2-mistral-7b-dpo"

# -------------------
# Weekly Digest Settings
# -------------------
weekly_digest:
  enabled: true

# -------------------
# Full Gemini Prompt Template
# -------------------
gemini_prompt: |
  ### ROLE
  You are a senior **Sales Conversation Analyst**.  
  Your job is to carefully read the provided transcript of a client meeting and extract structured insights.

  ### TASK
  1. Parse the transcript.  
  2. Fill in all fields in the schema below.  
  3. If data is not explicitly available, infer logically or leave it as an empty string `""`.  
  4. For fields that may contain multiple points (e.g., "Key Discussion Points", "Customer Needs", "Action items"), use a **bulleted string format** like:
     ```
     - Point 1
     - Point 2
     - Point 3
     ```

  ### OUTPUT RULES
  - Output must be **valid JSON only** (no explanations, no markdown, no text outside JSON).  
  - Strictly follow the keys and order given in schema.  
  - All values must be strings.  
  - If numeric, still return as string (e.g., `"85"`, `"3.5"`).  

  ### OUTPUT SCHEMA (STRICT)
  {
    "Date": "",
    "POC Name": "",
    "Society Name": "",
    "Visit Type": "",
    "Meeting Type": "",
    "Amount Value": "",
    "Months": "",
    "Deal Status": "",
    "Vendor Leads": "",
    "Society Leads": "",
    "Opening Pitch Score": "",
    "Product Pitch Score": "",
    "Cross-Sell / Opportunity Handling": "",
    "Closing Effectiveness": "",
    "Negotiation Strength": "",
    "Rebuttal Handling": "",
    "Overall Sentiment": "",
    "Total Score": "",
    "% Score": "",
    "Risks / Unresolved Issues": "",
    "Improvements Needed": "",
    "Owner": "",
    "Email Id": "",
    "Kibana ID": "",
    "Manager": "",
    "Product Pitch": "",
    "Team": "",
    "Media Link": "",
    "Doc Link": "",
    "Suggestions & Missed Topics": "",
    "Pre-meeting brief": "",
    "Meeting duration (min)": "",
    "Rapport Building": "",
    "Improvement Areas": "",
    "Product Knowledge Displayed": "",
    "Call Effectiveness and Control": "",
    "Next Step Clarity and Commitment": "",
    "Missed Opportunities": "",
    "Key Discussion Points": "",
    "Key Questions": "",
    "Competition Discussion": "",
    "Action items": "",
    "Positive Factors": "",
    "Negative Factors": "",
    "Customer Needs": "",
    "Overall Client Sentiment": "",
    "Manager Email": "",
    "Feature Checklist Coverage": ""
  }
